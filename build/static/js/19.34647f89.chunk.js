"use strict";(self.webpackChunkvulpes_storage=self.webpackChunkvulpes_storage||[]).push([[19],{381:function(e,t,n){n.d(t,{N:function(){return u}});var r=n(3439),c=n(7948),o=n.n(c),i="PopUp_modalCloseButton__dgT-x",a="PopUp_menuIcon__6pYtP",s=n(184),u=function(e){var t=e.isOpen,n=e.close,c=e.body;return(0,s.jsxs)(o(),{isOpen:t,onRequestClose:n,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,s.jsx)("button",{className:i,type:"button",onClick:n,children:(0,s.jsx)("svg",{className:a,children:(0,s.jsx)("use",{href:"".concat(r.Z,"#icon-close-circle")})})}),c]})}},3019:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(5861),c=n(9439),o=n(4687),i=n.n(o),a=n(2791),s={container:"ProductByBarcode_container__l1ll2",videoArea:"ProductByBarcode_videoArea__IB-yi",hide:"ProductByBarcode_hide__Uz2Zo",modalArea:"ProductByBarcode_modalArea__zvuyE",modalImage:"ProductByBarcode_modalImage__UsrL7",button:"ProductByBarcode_button__yJUcD"},u=n(1089),l=n(5612),d=n(4420),f=n(9654),h=n(381),p=n(184),v=function(){var e,t,n=(0,d.I0)(),o=(0,d.v9)(f.K),v=(0,a.useRef)(null),m=(0,a.useRef)(null),x=(0,a.useState)([]),j=(0,c.Z)(x,2),g=j[0],_=j[1],b=(0,a.useState)(""),y=(0,c.Z)(b,2),B=y[0],k=y[1],N=(0,a.useState)(null),C=(0,c.Z)(N,2),I=C[0],A=C[1],S=(0,a.useState)(""),P=(0,c.Z)(S,2),U=P[0],Z=P[1],w=(0,a.useState)(!1),R=(0,c.Z)(w,2),F=R[0],D=R[1],H=(0,a.useState)(!1),q=(0,c.Z)(H,2),E=q[0],O=q[1],z=(0,a.useRef)(new u.BrowserMultiFormatReader);(0,a.useEffect)((function(){var e=z.current;return navigator.mediaDevices.getUserMedia({video:!0}).then((function(){return e.listVideoInputDevices()})).then((function(e){_(e),e.length>0&&k(e[0].deviceId)})).catch((function(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u043a\u0430\u043c\u0435\u0440\u0435:",e)})),function(){e.reset()}}),[]);var K=function(){O(!1),z.current.reset(),A(null)};return(0,a.useEffect)((function(){o&&o.article&&(K(),D(!0)),null===o&&(D(!0),K())}),[o,I]),(0,p.jsxs)("div",{className:s.container,children:[(0,p.jsx)("div",{className:s.scanBlock,children:(0,p.jsx)("video",{ref:v,className:E?s.videoArea:s.hide})}),(0,p.jsxs)("div",{className:s.buttonsBlock,children:[(0,p.jsx)("button",{className:s.button,onClick:function(){O(!0),B&&z.current.decodeFromVideoDevice(B,v.current,function(){var e=(0,r.Z)(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t)try{Z(t.text),n((0,l.BD)(t.text))}catch(r){console.error(r),A({error:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443"})}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},children:"Start"}),(0,p.jsx)("button",{className:s.button,onClick:K,children:"Reset"})]}),(0,p.jsxs)("div",{className:s.scanBlock,children:[(0,p.jsx)("label",{htmlFor:"sourceSelect",children:"Change video source:"}),(0,p.jsx)("select",{ref:m,id:"sourceSelect",value:B,onChange:function(e){return k(e.target.value)},children:g.map((function(e){return(0,p.jsx)("option",{value:e.deviceId,children:e.label||"Camera ".concat(e.deviceId)},e.deviceId)}))})]}),(0,p.jsx)(h.N,{isOpen:F,close:function(){D(!1)},body:o&&o.article?(0,p.jsxs)("div",{className:s.modalArea,children:[Array.isArray(o.images)&&o.images.length>0?(0,p.jsx)("img",{className:s.modalImage,alt:"scanned product",src:o.images[0]}):(0,p.jsx)("p",{children:"No image"}),(0,p.jsx)("p",{children:"".concat((null===(e=o.name)||void 0===e?void 0:e.UA)||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"," (").concat(o.article,")")}),(0,p.jsx)("p",{children:null!==(t=o.price)&&void 0!==t&&t.UAH?"".concat(o.price.UAH," \u0433\u0440\u043d."):"\u0426\u0435\u043d\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"})]}):null===o?(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:"\u0422\u043e\u0432\u0430\u0440 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"}),(0,p.jsxs)("p",{children:["\u0428\u0442\u0440\u0438\u0445\u043a\u043e\u0434: ",U]})]}):null})]})},m=n(3050);function x(){return(0,p.jsx)(m.B6,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(m.ql,{children:(0,p.jsx)("title",{children:"Scanner"})}),(0,p.jsx)(v,{})]})})}},9654:function(e,t,n){n.d(t,{K:function(){return c},q:function(){return r}});var r=function(e){return e.products.items},c=function(e){return e.products.activeItem}}}]);
//# sourceMappingURL=19.34647f89.chunk.js.map