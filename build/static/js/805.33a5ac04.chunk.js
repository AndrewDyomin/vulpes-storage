"use strict";(self.webpackChunkvulpes_storage=self.webpackChunkvulpes_storage||[]).push([[805],{381:function(e,t,n){n.d(t,{N:function(){return l}});var r=n(3439),c=n(7948),o=n.n(c),a="PopUp_modalCloseButton__dgT-x",i="PopUp_menuIcon__6pYtP",s=n(184),l=function(e){var t=e.isOpen,n=e.close,c=e.body;return(0,s.jsxs)(o(),{isOpen:t,onRequestClose:n,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,s.jsx)("button",{className:a,type:"button",onClick:n,children:(0,s.jsx)("svg",{className:i,children:(0,s.jsx)("use",{href:"".concat(r.Z,"#icon-close-circle")})})}),c]})}},9805:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r=n(7762),c=n(3433),o=n(5861),a=n(9439),i=n(4687),s=n.n(i),l=n(4420),u=n(9567),d=n(6811),p=n(184),v=(0,d.Z)((0,p.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz"),h=n(9536),f=n(5294),m="InventoryCheckDetails_titleArea__LNp6j",x="InventoryCheckDetails_moreButton__ADUdc",y="InventoryCheckDetails_list__ooKP0",_="InventoryCheckDetails_item__Na0zJ",b="InventoryCheckDetails_itemImage__gy0FF",k="InventoryCheckDetails_itemArticle__X9aFg",g="InventoryCheckDetails_itemCount__l0xoX",j="InventoryCheckDetails_itemCountInput__4m-S4",C="InventoryCheckDetails_moreModal__nKS7Q",w="InventoryCheckDetails_modalButton__nU8+a",N="InventoryCheckDetails_delButton__Oqo8R",Z="InventoryCheckDetails_editButtons__i3MhA",I="InventoryCheckDetails_addButton__sC4bR",O="InventoryCheckDetails_saveButton__WxrLl",D=n(2791),S=n(381),A=n(5218),P=function(e){var t,n=e.id,i=(0,l.v9)(u.W).find((function(e){return e._id===n})),d=(0,D.useState)([]),P=(0,a.Z)(d,2),B=P[0],E=P[1],F=(0,D.useState)(!1),z=(0,a.Z)(F,2),M=z[0],R=z[1],U=(0,D.useState)(!1),W=(0,a.Z)(U,2),H=W[0],L=W[1],q=(0,D.useState)(!1),K=(0,a.Z)(q,2),X=K[0],J=K[1],Q=(0,D.useState)([]),T=(0,a.Z)(Q,2),V=T[0],Y=T[1],$=function(){var e=(0,o.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.post("/products/byarticle",{article:t});case 2:return n=e.sent,e.abrupt("return",n.data.product);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){R(!1),L(!1)},ee=function(){var e=(0,o.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Z.post("/inventory-check/delete",{id:n});case 3:A.ZP.success("\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0443\u0434\u0430\u043b\u0451\u043d"),G(),window.history.back(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438:",e.t0.message),A.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,o.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:i._id,items:[]},V.forEach((function(e,n){var r=document.getElementById("".concat(n,"Count")),c=r?Number(r.value):0,o=""!==e.article?e.article:document.getElementById("".concat(n,"Article")).value;t.items.push({article:o,count:c})})),e.prev=2,e.next=5,f.Z.post("/inventory-check/update",t);case 5:A.ZP.success("\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d"),window.history.back(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),A.ZP.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return(0,D.useEffect)((function(){var e;if(i&&null!==(e=i.items)&&void 0!==e&&e.length){var t=function(){var e=(0,o.Z)(s().mark((function e(){var t,n,c,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=(0,r.Z)(i.items),e.prev=2,n.s();case 4:if((c=n.n()).done){e.next=18;break}return o=c.value,e.prev=6,e.next=9,$(o.article);case 9:a=e.sent,t.push(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u0440\u0442\u0438\u043a\u0443\u043b\u0430 ".concat(o.article,":"),e.t0.message);case 16:e.next=4;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(2),n.e(e.t1);case 23:return e.prev=23,n.f(),e.finish(23);case 26:E(t);case 27:case"end":return e.stop()}}),e,null,[[2,20,23,26],[6,13]])})));return function(){return e.apply(this,arguments)}}();t()}}),[i]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:m,children:[(0,p.jsx)("h1",{children:null===i||void 0===i?void 0:i.name}),(0,p.jsx)("button",{className:x,onClick:function(){return R(!0)},children:(0,p.jsx)(v,{fontSize:"large"})})]}),(0,p.jsx)("p",{children:"Items:"}),(0,p.jsx)("ul",{className:y,children:null===(t=X?V:i.items)||void 0===t?void 0:t.map((function(e,t){var n,r=B.find((function(t){return(null===t||void 0===t?void 0:t.article)===e.article}));return(0,p.jsxs)("li",{className:_,children:[(0,p.jsx)("img",{className:b,alt:null===r||void 0===r||null===(n=r.name)||void 0===n?void 0:n.UA,src:null===r||void 0===r?void 0:r.images[0]}),X&&""===e.article?(0,p.jsx)("input",{id:"".concat(t,"Article"),placeholder:"Article...",className:k}):(0,p.jsxs)("p",{className:k,children:["Article: ",e.article]}),X?(0,p.jsx)("input",{id:"".concat(t,"Count"),defaultValue:e.count,placeholder:"Count",className:"".concat(g," ").concat(j)}):(0,p.jsxs)("p",{className:g,children:[e.count," \u0448\u0442."]})]},t)}))}),X&&(0,p.jsxs)("div",{className:Z,children:[(0,p.jsx)("button",{className:I,onClick:function(){Y((function(e){return[].concat((0,c.Z)(e),[{article:"",count:""}])}))},children:(0,p.jsx)(h.Z,{fill:"transparent",fontSize:"large"})}),(0,p.jsx)("button",{className:O,onClick:te,children:"Save"})]}),(0,p.jsx)(S.N,{isOpen:M,close:G,body:(0,p.jsxs)("div",{className:C,children:[(0,p.jsx)("button",{className:w,onClick:function(){Y((0,c.Z)(i.items)),J(!0),G()},children:"Edit"}),(0,p.jsx)("button",{className:"".concat(w," ").concat(N),onClick:function(){return L(!0)},children:"Delete"})]})}),(0,p.jsx)(S.N,{isOpen:H,close:G,body:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{children:"Are you sure?"}),(0,p.jsxs)("div",{className:C,children:[(0,p.jsx)("button",{className:w,onClick:G,children:"Cancel"}),(0,p.jsx)("button",{className:"".concat(w," ").concat(N),onClick:ee,children:"Delete"})]})]})})]})},B=n(3050),E=n(7689),F=n(4270);function z(){var e=(0,l.v9)(u.N),t=(0,E.UO)().inventoryId;return(0,p.jsx)(B.B6,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(B.ql,{children:(0,p.jsx)("title",{children:"Inventory check details"})}),e?(0,p.jsx)(F.Z,{color:"#c04545"}):(0,p.jsx)(P,{id:t})]})})}},9567:function(e,t,n){n.d(t,{N:function(){return c},W:function(){return r}});var r=function(e){return e.inventory.items},c=function(e){return e.inventory.isLoading}},4270:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(2791),c={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function o(e){if("number"===typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return c[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},a.apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(r=Object.getOwnPropertySymbols(e);c<r.length;c++)t.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(n[r[c]]=e[r[c]])}return n},s=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var c=document.createElement("style");document.head.appendChild(c);var o=c.sheet,a="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(a,0),r}("ClockLoader","100% { transform: rotate(360deg) }","rotate");var l=function(e){var t=e.loading,n=void 0===t||t,c=e.color,l=void 0===c?"#000000":c,u=e.speedMultiplier,d=void 0===u?1:u,p=e.cssOverride,v=void 0===p?{}:p,h=e.size,f=void 0===h?50:h,m=i(e,["loading","color","speedMultiplier","cssOverride","size"]),x=o(f),y=x.value,_=x.unit,b=a({display:"inherit",position:"relative",width:"".concat(y).concat(_),height:"".concat(y).concat(_),backgroundColor:"transparent",boxShadow:"inset 0px 0px 0px 2px ".concat(l),borderRadius:"50%"},v),k={position:"absolute",backgroundColor:l,width:"".concat(y/3,"px"),height:"2px",top:"".concat(y/2-1,"px"),left:"".concat(y/2-1,"px"),transformOrigin:"1px 1px",animation:"".concat(s," ").concat(8/d,"s linear infinite")},g={position:"absolute",backgroundColor:l,width:"".concat(y/2.4,"px"),height:"2px",top:"".concat(y/2-1,"px"),left:"".concat(y/2-1,"px"),transformOrigin:"1px 1px",animation:"".concat(s," ").concat(2/d,"s linear infinite")};return n?r.createElement("span",a({style:b},m),r.createElement("span",{style:g}),r.createElement("span",{style:k})):null}},9536:function(e,t,n){var r=n(6811),c=n(184);t.Z=(0,r.Z)((0,c.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"AddCircleOutline")}}]);
//# sourceMappingURL=805.33a5ac04.chunk.js.map