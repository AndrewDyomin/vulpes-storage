"use strict";(self.webpackChunkvulpes_storage=self.webpackChunkvulpes_storage||[]).push([[19],{381:function(e,t,n){n.d(t,{N:function(){return u}});var r=n(3439),c=n(7948),o=n.n(c),i="PopUp_modalCloseButton__m06-1",a="PopUp_menuIcon__5-11v",s=n(184),u=function(e){var t=e.isOpen,n=e.close,c=e.body;return(0,s.jsxs)(o(),{isOpen:t,onRequestClose:n,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,s.jsx)("button",{className:i,type:"button",onClick:n,children:(0,s.jsx)("svg",{className:a,children:(0,s.jsx)("use",{href:"".concat(r.Z,"#icon-close-circle")})})}),c]})}},3019:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(5861),c=n(9439),o=n(4687),i=n.n(o),a=n(2791),s={container:"ProductByBarcode_container__I+StQ",videoArea:"ProductByBarcode_videoArea__DWxuM",hide:"ProductByBarcode_hide__MRSzl",modalArea:"ProductByBarcode_modalArea__aleCt",modalImage:"ProductByBarcode_modalImage__P9h42",button:"ProductByBarcode_button__BBdqD"},u=n(1089),l=n(5612),d=n(4420),h=n(9654),f=n(381),p=n(9230),m=n(184),v=function(){var e,t,n=(0,p.$G)().t,o=(0,d.I0)(),v=(0,d.v9)(h.K),x=(0,a.useRef)(null),j=(0,a.useRef)(null),g=(0,a.useState)([]),_=(0,c.Z)(g,2),b=_[0],B=_[1],y=(0,a.useState)(""),k=(0,c.Z)(y,2),N=k[0],C=k[1],I=(0,a.useState)(null),A=(0,c.Z)(I,2),S=A[0],P=A[1],Z=(0,a.useState)(""),w=(0,c.Z)(Z,2),R=w[0],D=w[1],F=(0,a.useState)(!1),U=(0,c.Z)(F,2),q=U[0],H=U[1],M=(0,a.useState)(!1),O=(0,c.Z)(M,2),W=O[0],E=O[1],K=(0,a.useRef)(new u.BrowserMultiFormatReader);(0,a.useEffect)((function(){var e=K.current;return navigator.mediaDevices.getUserMedia({video:!0}).then((function(){return e.listVideoInputDevices()})).then((function(e){B(e),e.length>0&&C(e[0].deviceId)})).catch((function(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u043a\u0430\u043c\u0435\u0440\u0435:",e)})),function(){e.reset()}}),[]);var V=function(){E(!1),K.current.reset(),P(null)};return(0,a.useEffect)((function(){v&&v.article&&(V(),H(!0)),null===v&&(H(!0),V())}),[v,S]),(0,m.jsxs)("div",{className:s.container,children:[(0,m.jsx)("div",{className:s.scanBlock,children:(0,m.jsx)("video",{ref:x,className:W?s.videoArea:s.hide})}),(0,m.jsxs)("div",{className:s.buttonsBlock,children:[(0,m.jsx)("button",{className:s.button,onClick:function(){E(!0),N&&K.current.decodeFromVideoDevice(N,x.current,function(){var e=(0,r.Z)(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t)try{D(t.text),o((0,l.BD)(t.text))}catch(n){console.error(n),P({error:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443"})}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},children:n("start")}),(0,m.jsx)("button",{className:s.button,onClick:V,children:n("reset")})]}),(0,m.jsxs)("div",{className:s.scanBlock,children:[(0,m.jsxs)("label",{htmlFor:"sourceSelect",children:[n("change video source"),":"]}),(0,m.jsx)("select",{ref:j,id:"sourceSelect",value:N,onChange:function(e){return C(e.target.value)},children:b.map((function(e){return(0,m.jsx)("option",{value:e.deviceId,children:e.label||"Camera ".concat(e.deviceId)},e.deviceId)}))})]}),(0,m.jsx)(f.N,{isOpen:q,close:function(){H(!1)},body:v&&v.article?(0,m.jsxs)("div",{className:s.modalArea,children:[Array.isArray(v.images)&&v.images.length>0?(0,m.jsx)("img",{className:s.modalImage,alt:"scanned product",src:v.images[0]}):(0,m.jsx)("p",{children:"No image"}),(0,m.jsx)("p",{children:"".concat((null===(e=v.name)||void 0===e?void 0:e.UA)||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"," (").concat(v.article,")")}),(0,m.jsx)("p",{children:null!==(t=v.price)&&void 0!==t&&t.UAH?"".concat(v.price.UAH," \u0433\u0440\u043d."):"\u0426\u0435\u043d\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"})]}):null===v?(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"\u0422\u043e\u0432\u0430\u0440 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"}),(0,m.jsxs)("p",{children:["\u0428\u0442\u0440\u0438\u0445\u043a\u043e\u0434: ",R]})]}):null})]})},x=n(3050);function j(){return(0,m.jsx)(x.B6,{children:(0,m.jsxs)("div",{children:[(0,m.jsx)(x.ql,{children:(0,m.jsx)("title",{children:"Scanner"})}),(0,m.jsx)(v,{})]})})}},9654:function(e,t,n){n.d(t,{K:function(){return c},q:function(){return r}});var r=function(e){return e.products.items},c=function(e){return e.products.activeItem}}}]);
//# sourceMappingURL=19.7017b47b.chunk.js.map