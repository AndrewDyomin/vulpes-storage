"use strict";(self.webpackChunkvulpes_storage=self.webpackChunkvulpes_storage||[]).push([[19],{3019:function(e,n,r){r.r(n),r.d(n,{default:function(){return x}});var c=r(5861),t=r(9439),s=r(4687),l=r.n(s),i=r(2791),a={container:"ProductByBarcode_container__I+StQ",videoArea:"ProductByBarcode_videoArea__DWxuM"},o=r(1089),u=r(5612),d=r(4420),h=r(184),f=function(){var e=(0,d.I0)(),n=(0,i.useRef)(null),r=(0,i.useRef)(null),s=(0,i.useState)([]),f=(0,t.Z)(s,2),v=f[0],x=f[1],j=(0,i.useState)(""),p=(0,t.Z)(j,2),m=p[0],b=p[1],k=(0,i.useState)(null),B=(0,t.Z)(k,2),g=B[0],N=B[1],S=(0,i.useRef)(new o.BrowserMultiFormatReader);(0,i.useEffect)((function(){var e=S.current;return e.listVideoInputDevices().then((function(e){x(e),e.length>0&&b(e[0].deviceId)})),function(){e.reset()}}),[]);return(0,h.jsxs)("div",{className:a.container,children:[(0,h.jsx)("div",{className:a.scanBlock,children:(0,h.jsx)("video",{ref:n,className:a.videoArea})}),(0,h.jsxs)("div",{className:a.buttonsBlock,children:[(0,h.jsx)("button",{className:a.button,onClick:function(){m&&S.current.decodeFromVideoDevice(m,n.current,function(){var n=(0,c.Z)(l().mark((function n(r,c){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){console.log(r.text);try{e((0,u.BD)(r.text))}catch(c){console.error(c),N({error:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443"})}}case 1:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}())},children:"Start"}),(0,h.jsx)("button",{className:a.button,onClick:function(){S.current.reset(),N(null)},children:"Reset"})]}),(0,h.jsxs)("div",{className:a.scanBlock,children:[(0,h.jsx)("label",{htmlFor:"sourceSelect",children:"Change video source:"}),(0,h.jsx)("select",{ref:r,id:"sourceSelect",value:m,onChange:function(e){return b(e.target.value)},children:v.map((function(e){return(0,h.jsx)("option",{value:e.deviceId,children:e.label||"Camera ".concat(e.deviceId)},e.deviceId)}))})]}),(0,h.jsxs)("div",{className:a.scanBlock,children:[(0,h.jsx)("label",{children:"Result:"}),g?g.error?(0,h.jsx)("p",{children:g.error}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("p",{children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",g.name]}),(0,h.jsxs)("p",{children:["\u0410\u0440\u0442\u0438\u043a\u0443\u043b: ",g.article]}),(0,h.jsxs)("p",{children:["\u0428\u0442\u0440\u0438\u0445\u043a\u043e\u0434: ",g.barcode]})]}):(0,h.jsx)("p",{children:"\u041d\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430"})]})]})},v=r(3050);function x(){return(0,h.jsx)(v.B6,{children:(0,h.jsxs)("div",{children:[(0,h.jsx)(v.ql,{children:(0,h.jsx)("title",{children:"Scanner"})}),(0,h.jsx)(f,{})]})})}}}]);
//# sourceMappingURL=19.9b5c19ee.chunk.js.map